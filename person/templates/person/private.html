<!-- qwikgame/person/templates/person/private.html -->
{% extends "person/account.html" %}
{% load static %}
{% load webpush_notifications %}

{% block css %}
    {{ block.super }}
    <style type="text/css">
            div.drop { justify-content: space-between; }
    </style>
{% endblock css %}


{% block script %}
    {{ block.super }}
    {% webpush_header %}
    <script defer src="{% static 'private.js' %}"></script>
{% endblock %}

{% block private_class %}selected{% endblock %}

    
{% block list_bar %}
{% if big_screen %}
    {{ block.super }}
{% endif %}
{% endblock %}


{% block detail %}
    <div id="detail" class="detail">
        <div id="PRIVATE" class="post">
            <div class="detail_head">
                <h1>PRIVATE SETTINGS</h1> 
            </div>
            <div class="post detail_body">
                <div class="post form">
                    <form action="{% url 'private' %}" method="post">
                        <div class="post">
                            <h2>
                                EMAIL ADDRESS
                                <div class="btn tertiary">
                                    Change (coming soon)
                                </div>
                            </h2>
                            <p>{{ email }}</p>
                            <div class="label">
                                <label for="id_icon">RECEIVE NOTIFICATIONS</label>
                                <div class="btn secondary small round push_right info" data-visible="false">
                                    <i class="fa-solid fa-info fa-1x" aria-hidden="true"></i>
                                    <div class="info_text hidden">Qwikgame can notify you about Match events</div>
                                </div>
                            </div>
                            <div class="label">
                                Web / App notifications
                                <label class="switch push_right" for="webpush-subscribe-button">
                                    <!-- The webpush_button is hidden here, and linked by private.js updateNotifyPush() to the visible UI -->
                                    <div class='hidden'>{% webpush_button %}</div>
                                    <input id="id_notify_push" type="checkbox" name="notify_push" >
                                    <div class="slider round"></div>
                                </label>
                                <div class="btn secondary small round info" data-visible="false">
                                    <i class="fa-solid fa-info fa-1x" aria-hidden="true"></i>
                                    <div id="id_notify_info"  class="info_text hidden"></div>
                                </div>
                            </div>
{% csrf_token %}
{{ private_form }}
{{ blocked_form }}
                            <div class="pillar">
                                <label class="btn primary push_down">
                                    <input hidden type="submit">
                                    Save
                                </label>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}